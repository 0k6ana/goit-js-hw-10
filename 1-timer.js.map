{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate = null;\nlet timerInterval = null; \n\nconst startBtn = document.querySelector(\"[data-start]\")\nconst datetimePicker = document.querySelector(\"#datetime-picker\")\n startBtn.disabled = true;\n\nfunction addLeadingZero(value){\n    return String(value).padStart(2,0)\n}\n\nfunction updateTimerDisplay(d,h,m,s){\n    document.querySelector(\"[data-days]\").textContent = d;\n    document.querySelector(\"[data-hours]\").textContent = addLeadingZero(h);\n    document.querySelector(\"[data-minutes]\").textContent = addLeadingZero(m);\n    document.querySelector(\"[data-seconds]\").textContent =addLeadingZero(s);\n}\n\nfunction convertMs(ms) {\nconst second = 1000;\nconst minute = second * 60;\nconst hour = minute * 60;\nconst day = hour * 24;\n\nconst days = Math.floor(ms/day);\nconst hours = Math.floor((ms % day)/hour);\nconst minutes = Math.floor(((ms % day) % hour)/minute);\nconst seconds = Math.floor((((ms % day)% hour)% minute)/second);\nreturn {days, hours, minutes, seconds }\n}\n\nflatpickr(\"#datetime-picker\", {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n\n    if (selectedDate <= new Date ()){\n        userSelectedDate = null;\n        startBtn.disabled = true;\n         iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n      });\n    }else{\n       userSelectedDate = selectedDate;\n        startBtn.disabled = false;\n    }\n  }\n});\n\nstartBtn.addEventListener('click',()=>{\n    if(!userSelectedDate) return;\n\n    startBtn.disabled = true;\n     datetimePicker.disabled = true;\n\n     timerInterval = setInterval(() =>{\n        const now = new Date();\n        const timeLeft = userSelectedDate - now;\n\n        if (timeLeft <= 0){\n            clearInterval(timerInterval);\n            updateTimerDisplay(0, 0, 0, 0);\n            datetimePicker.disabled = false;\n            startBtn.disabled = false;\n            return\n        }\n        const {days, hours, minutes,seconds}= convertMs(timeLeft);\n        updateTimerDisplay(days, hours, minutes,seconds);\n     }, 1000);\n})\n"],"names":["userSelectedDate","timerInterval","startBtn","datetimePicker","addLeadingZero","value","updateTimerDisplay","d","h","m","s","convertMs","ms","days","hours","minutes","seconds","flatpickr","selectedDates","selectedDate","iziToast","timeLeft"],"mappings":"2FAKA,IAAIA,EAAmB,KACnBC,EAAgB,KAEpB,MAAMC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAiB,SAAS,cAAc,kBAAkB,EAC/DD,EAAS,SAAW,GAErB,SAASE,EAAeC,EAAM,CAC1B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAE,CAAC,CACrC,CAEA,SAASC,EAAmBC,EAAEC,EAAEC,EAAEC,EAAE,CAChC,SAAS,cAAc,aAAa,EAAE,YAAcH,EACpD,SAAS,cAAc,cAAc,EAAE,YAAcH,EAAeI,CAAC,EACrE,SAAS,cAAc,gBAAgB,EAAE,YAAcJ,EAAeK,CAAC,EACvE,SAAS,cAAc,gBAAgB,EAAE,YAAaL,EAAeM,CAAC,CAC1E,CAEA,SAASC,EAAUC,EAAI,CAMvB,MAAMC,EAAO,KAAK,MAAMD,EAAG,KAAG,EACxBE,EAAQ,KAAK,MAAOF,EAAK,MAAK,IAAI,EAClCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAM,GAAM,EAC/CI,EAAU,KAAK,MAASJ,EAAK,MAAM,KAAO,IAAQ,GAAM,EAC9D,MAAO,CAAC,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,CACvC,CAEAC,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,MAAMC,EAAeD,EAAc,CAAC,EAEhCC,GAAgB,IAAI,MACpBnB,EAAmB,KACnBE,EAAS,SAAW,GACnBkB,EAAS,MAAM,CAChB,MAAO,QACP,QAAS,qCACT,SAAU,UAClB,CAAO,IAEApB,EAAmBmB,EAClBjB,EAAS,SAAW,GAEzB,CACH,CAAC,EAEDA,EAAS,iBAAiB,QAAQ,IAAI,CAC9BF,IAEJE,EAAS,SAAW,GACnBC,EAAe,SAAW,GAE1BF,EAAgB,YAAY,IAAK,CAE9B,MAAMoB,EAAWrB,EADL,IAAI,KAGhB,GAAIqB,GAAY,EAAE,CACd,cAAcpB,CAAa,EAC3BK,EAAmB,EAAG,EAAG,EAAG,CAAC,EAC7BH,EAAe,SAAW,GAC1BD,EAAS,SAAW,GACpB,MACH,CACD,KAAM,CAAC,KAAAW,EAAM,MAAAC,EAAO,QAAAC,EAAQ,QAAAC,CAAO,EAAGL,EAAUU,CAAQ,EACxDf,EAAmBO,EAAMC,EAAOC,EAAQC,CAAO,CACjD,EAAE,GAAI,EACZ,CAAC"}